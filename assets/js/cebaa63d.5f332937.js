"use strict";(self.webpackChunk_blockchain_lab_um_ssi_snap_docs=self.webpackChunk_blockchain_lab_um_ssi_snap_docs||[]).push([[822],{876:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(2784);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(a),h=s,m=u["".concat(l,".").concat(h)]||u[h]||c[h]||r;return a?n.createElement(m,i(i({ref:t},d),{},{components:a})):n.createElement(m,i({ref:t},d))}));function h(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=a.length,i=new Array(r);i[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:s,i[1]=o;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5610:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var n=a(8427),s=(a(2784),a(876));const r={sidebar_position:2},i="Design",o={unversionedId:"ssi-snap/design",id:"ssi-snap/design",title:"Design",description:"The SSI Snap is a MetaMask Snap, that can handle DIDs, securely store VCs, and create the VPs. It is designed to be blockchain-agnostic. SSI Snap uses existing MetaMask accounts as DIDs or as a mean to create new DIDs, without the need to ever export private keys from MetaMask, hence leveraging its security!",source:"@site/docs/ssi-snap/design.md",sourceDirName:"ssi-snap",slug:"/ssi-snap/design",permalink:"/ssi-snap-docs/docs/ssi-snap/design",draft:!1,editUrl:"https://github.com/blockchain-lab-um/ssi-snap-docs/edit/master/docs/ssi-snap/design.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"MetaMask Snaps - Basics",permalink:"/ssi-snap-docs/docs/ssi-snap/intro"},next:{title:"Architecture",permalink:"/ssi-snap-docs/docs/ssi-snap/architecture"}},l={},p=[{value:"DID Method",id:"did-method",level:2},{value:"Available DID Methods (Experimental)",id:"available-did-methods-experimental",level:3},{value:"Digital Signatures",id:"digital-signatures",level:2},{value:"Verifiable Credentials (VCs)",id:"verifiable-credentials-vcs",level:3},{value:"Verifiable Presentations (VPs)",id:"verifiable-presentations-vps",level:3},{value:"SSI Framework",id:"ssi-framework",level:2},{value:"Data Storage",id:"data-storage",level:2},{value:"Available plugins for storing VCs (Experimental)",id:"available-plugins-for-storing-vcs-experimental",level:3},{value:"Security",id:"security",level:2}],d={toc:p};function c(e){let{components:t,...a}=e;return(0,s.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"design"},"Design"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"The SSI Snap is a MetaMask Snap, that can handle DIDs, securely store VCs, and create the VPs. It is designed to be blockchain-agnostic. SSI Snap uses existing MetaMask accounts as DIDs or as a mean to create new DIDs, without the need to ever export private keys from MetaMask, hence leveraging its security!\n")),(0,s.kt)("h2",{id:"did-method"},"DID Method"),(0,s.kt)("p",null,"When working with DIDs, there are various DID methods to choose from. One of the most popular methods is called ",(0,s.kt)("strong",{parentName:"p"},"did:ethr"),". This method uses Ethereum addresses as fully self-managed DIDs. In other words, every Ethereum account is a DID. An example of Ethereum address as a DID;"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"did: ethr: 0x9907a0cf64ec9fbf6ed8fd4971090de88222a9ac;\n")),(0,s.kt)("p",null,"Ethereum accounts in MetaMask, used daily by millions, are essentially DIDs. What is missing is the functionality to use them and leverage their potential correctly."),(0,s.kt)("p",null,"You might ask yourselves why we have decided to build a proof of concept on Ethereum. There are a couple of reasons:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Aside from Bitcoin, it's the most decentralized blockchain,"),(0,s.kt)("li",{parentName:"ul"},"It's the most popular and most commonly used blockchain,"),(0,s.kt)("li",{parentName:"ul"},"Huge developer community with plenty of already established frameworks, including various SSI & DID frameworks and battle-tested did:ethr method,"),(0,s.kt)("li",{parentName:"ul"},"DID Documents do not need to be changed often (or even never in some cases); hence gas fees do not present such a huge problem")),(0,s.kt)("h3",{id:"available-did-methods-experimental"},"Available DID Methods (Experimental)"),(0,s.kt)("p",null,"In SSI Snap, users can pick a different DID method for every account they use. For example if they want to use ",(0,s.kt)("inlineCode",{parentName:"p"},"did:ethr")," on Account 1 and ",(0,s.kt)("inlineCode",{parentName:"p"},"did:key")," on Account 2, they can!"),(0,s.kt)("p",null,"Currently, SSI Snap supports 2 DID methods; ",(0,s.kt)("inlineCode",{parentName:"p"},"did:ethr")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"did:key"),". In the future we plan to add support for other significant DID methods that are capable of expressing secp256k keys."),(0,s.kt)("admonition",{type:"danger"},(0,s.kt)("p",{parentName:"admonition"},"DID:KEY support is experimental and still under development!")),(0,s.kt)("h2",{id:"digital-signatures"},"Digital Signatures"),(0,s.kt)("p",null,"Digital signatures apply to both VCs and VPs, but in most cases, they are signed by different actors in the SSI lifecycle. Thus we can approach them in a slightly different way."),(0,s.kt)("h3",{id:"verifiable-credentials-vcs"},"Verifiable Credentials (VCs)"),(0,s.kt)("p",null,"SSI Snap supports storing of VCs. They can contain different proof types, such as JSON-LD and JWT. There are also no limitations to signature algorithms since VCs are often signed on the backend systems of the issuers, where any software library can be used. Several algorithms and cryptographic primitives are supported, such as secp256k and Ed25519."),(0,s.kt)("h3",{id:"verifiable-presentations-vps"},"Verifiable Presentations (VPs)"),(0,s.kt)("p",null,"On the other hand, VPs are signed by holders using their wallets, which is the role of SSI Snap. MetaMask cryptographic and signing capabilities are used for digitally signing VPs; thus, digital signatures are limited to cryptographic primitives and formats supported in the Ethereum ecosystem. Therefore VPs contain signatures in type ",(0,s.kt)("a",{parentName:"p",href:"https://w3c-ccg.github.io/ethereum-eip712-signature-2021-spec/"},"Ethereum EIP712 Signature 2021"),"."),(0,s.kt)("h2",{id:"ssi-framework"},"SSI Framework"),(0,s.kt)("p",null,"To make DIDs functional a framework is needed. SSI Snap uses ",(0,s.kt)("strong",{parentName:"p"},(0,s.kt)("a",{parentName:"strong",href:"https://veramo.io/"},"Veramo framework"))," inside the SSI Snap to handle most work related to DIDs, VCs, and VPs. Veramo is a performant and modular API for Verifiable Data and SSI. Essentially it's a client that allows the creation and management of DIDs, VCs, and VPs and makes developers' lives working with them much easier."),(0,s.kt)("h2",{id:"data-storage"},"Data Storage"),(0,s.kt)("p",null,"These DIDs and VCs need to be stored somewhere. By default, SSI Snap stores all data in the MetaMask State, but it is possible to store VCs on ",(0,s.kt)("a",{parentName:"p",href:"https://ceramic.network/"},"Ceramic Network"),". More about this in the ",(0,s.kt)("a",{parentName:"p",href:"/docs/ssi-snap/storage"},"State")," section."),(0,s.kt)("p",null,"In the future other ways of storing data will be implemented, starting with storing data in the cloud. Storing data outside MetaMask brings many benefits such as ability to sync multiple applications and ability to make external backups."),(0,s.kt)("h3",{id:"available-plugins-for-storing-vcs-experimental"},"Available plugins for storing VCs (Experimental)"),(0,s.kt)("p",null,"In SSI Snap, users can decide where VCs will get stored for every account they use. For example if they want to store sensitive VCs in most private store, snap state, they can! On the other hand, if they want to store VCs on-chain and maybe sync them with their other wallets, they can do that aswell with Ceramic Network on Account 2."),(0,s.kt)("p",null,"Currently, SSI Snap supports 2 ways of storing VCs; ",(0,s.kt)("inlineCode",{parentName:"p"},"MetaMask state")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"Ceramic Network"),". In the future we plan to add support for other plugins such as Google Drive, IPFS, etc."),(0,s.kt)("admonition",{type:"danger"},(0,s.kt)("p",{parentName:"admonition"},"Ceramic network support is experimental and still under development!")),(0,s.kt)("h2",{id:"security"},"Security"),(0,s.kt)("p",null,"To maintain as much security as possible, private keys from existing MetaMask accounts are never exposed to SSI Snap. EIP712 Signature is used to sign credentials."),(0,s.kt)("p",null,"Additionally, all MetaMask state is encrypted!"))}c.isMDXComponent=!0}}]);